class InteractiveMenuHandler:
    """ูุนุงูุฌ ุงูููุงุฆู - ูุณุชุฎุฏู ุฑุณุงุฆู ูุตูุฉ ุญุงููุงู ุจุฏูุงู ูู Interactive Messages"""
    
    def __init__(self, whatsapp_handler, quick_system):
        self.whatsapp_handler = whatsapp_handler
        self.quick_system = quick_system
        
    def send_main_menu(self, to_number: str) -> bool:
        """ุฅุฑุณุงู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ ูุฑุณุงูุฉ ูุตูุฉ"""
        menu_text = """๐ข ููุชุจ ุงูุฑูุงุฆุฒ ุงูุจุดุฑูุฉ ููุงุณุชูุฏุงู

ุฃููุงู ูุณููุงู ุจู! ๐

๐ ุงุฎุชุฑ ุงูุฎุฏูุฉ ุงููุทููุจุฉ ุจูุชุงุจุฉ ุฑูููุง:

1๏ธโฃ ุฎุฏูุงุชูุง (ุนุงููุงุช ููุฒููุงุชุ ูุฑุจูุงุช ุฃุทูุงู)
2๏ธโฃ ุงูุฃุณุนุงุฑ ูุงูุนุฑูุถ ุงูุญุงููุฉ
3๏ธโฃ ูุชุทูุจุงุช ุงูุงุณุชูุฏุงู ูุงูุฃูุฑุงู
4๏ธโฃ ุชูุงุตู ูุนูุง ูุฃุฑูุงู ุงูููุงุชู
5๏ธโฃ ุชุชุจุน ุญุงูุฉ ุงูุทูุจ
6๏ธโฃ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ

๐ ุฃู ุงูุชุจ ูุจุงุดุฑุฉ:
โข "ุนุงููุฉ ููุฒููุฉ" - ููุญุตูู ุนูู ุนุงููุฉ
โข "ูุฑุจูุฉ ุฃุทูุงู" - ูุทูุจ ูุฑุจูุฉ
โข "ุฃุณุนุงุฑ" - ูุนุฑุถ ุงูุฃุณุนุงุฑ

๐ ุงุชุตู ุงูุขู: 0556914447

ููู ูููููู ูุณุงุนุฏุชูุ"""
        
        return self.whatsapp_handler.send_message(to_number, menu_text)

    def send_services_menu(self, to_number: str) -> bool:
        """ูุงุฆูุฉ ุงูุฎุฏูุงุช"""
        services_text = """๐ ุฎุฏูุงุชูุง ุงููุชููุฒุฉ

ูููุฑ ูู ุฃูุถู ุงูุนูุงูุฉ ุงูููุฒููุฉ:

๐น ุนุงููุงุช ููุฒููุงุช ูุญุชุฑูุงุช
๐น ูุฑุจูุงุช ุฃุทูุงู ูุฏุฑุจุงุช  
๐น ุทุจุงุฎุงุช ูุงูุฑุงุช
๐น ุณุงุฆููู ูุคูููู
๐น ุนูุงู ุฒุฑุงุนุฉ

โจ ุฌููุน ุงูุนูุงูุฉ ูุฏุฑุจุฉ ููุคููุฉ ุจุฃุนูู ุงููุนุงููุฑ

๐ฌ ููุงุณุชูุณุงุฑ ุงูุชุจ:
โข "ุนุงููุฉ ููุฒููุฉ" - ููุชูุงุตูู ูุงูุฃุณุนุงุฑ
โข "ูุฑุจูุฉ ุฃุทูุงู" - ููุฑุจูุงุช ุงูุฃุทูุงู
โข "ุฃุณุนุงุฑ" - ูุฌููุน ุงูุฃุณุนุงุฑ

๐ ุฃู ุงุชุตู: 0556914447"""
        
        return self.whatsapp_handler.send_message(to_number, services_text)

    def send_contact_menu(self, to_number: str) -> bool:
        """ูุงุฆูุฉ ุงูุชูุงุตู"""
        contact_text = """๐ ุชูุงุตู ูุนูุง

ูุณุนุฏูุง ุชูุงุตูู ูู ุฃู ููุช:

๐ฑ ุฃุฑูุงู ุงูููุงุชู:
โข 0556914447 (ุงูุฎุท ุงูุฑุฆูุณู)
โข 0506207444 (ุฎุท ุงูุทูุงุฑุฆ)
โข 0537914445 (ุฎุท ุงููุจูุนุงุช)

๐ ุฃููุงุช ุงูุนูู:
ุงูุณุจุช - ุงูุฎููุณ: 8 ุต - 10 ู
ุงูุฌูุนุฉ: 2 ู - 10 ู

๐ ูุญู ูู ุฎุฏูุชู ุฏุงุฆูุงู!

๐ฌ ุงูุชุจ "ูุณุงุนุฏุฉ" ููุนูุฏุฉ ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ"""
        
        return self.whatsapp_handler.send_message(to_number, contact_text)

    # ุงูุฏูุงู ุงูุจุงููุฉ ูุง ุชูุณุชุฎุฏู ุญุงููุงู ูุฃู Interactive Messages ูุนุทูุฉ
    def send_button_message(self, *args, **kwargs):
        """ูุนุทูุฉ - ุชุชุทูุจ Official Business Account"""
        return False

    def send_list_message(self, *args, **kwargs):
        """ูุนุทูุฉ - ุชุชุทูุจ Official Business Account"""
        return False

    def handle_interactive_response(self, response_data: dict, phone_number: str) -> str:
        """ูุนุงูุฌุฉ ุงูุฑุฏูุฏ - ุญุงููุงู ูุนุทูุฉ"""
        return self.send_main_menu(phone_number)

    def handle_button_click(self, button_id: str, phone_number: str) -> str:
        """ูุนุงูุฌุฉ ุงูุฃุฒุฑุงุฑ - ุญุงููุงู ูุตูุฉ"""
        if button_id == "domestic_worker" or "ุนุงููุฉ" in button_id.lower():
            text_response, image_url = self.quick_system.get_price_response()
            if image_url:
                self.whatsapp_handler.send_image_with_text(phone_number, text_response, image_url)
                return ""
            return text_response
            
        elif button_id == "nanny_service" or "ูุฑุจูุฉ" in button_id.lower():
            return """๐ถ ุฎุฏูุฉ ูุฑุจูุงุช ุงูุฃุทูุงู

ูููุฑ ูุฑุจูุงุช ุฃุทูุงู ูุฏุฑุจุงุช ููุคููุงุช:
โข ุฎุจุฑุฉ ูู ุฑุนุงูุฉ ุงูุฃุทูุงู
โข ุชุฏุฑูุจ ุนูู ุงูุณูุงูุฉ ูุงูุฅุณุนุงูุงุช
โข ููุงุฑุงุช ุชุนููููุฉ ูุชุฑููููุฉ
โข ุฌูุณูุงุช ูุชููุนุฉ

ููุงุณุชูุณุงุฑ ุนู ุงูุฃุณุนุงุฑ:
๐ 0556914447"""
            
        elif "ูุงุฆูุฉ" in button_id or "menu" in button_id.lower():
            self.send_main_menu(phone_number)
            return ""
            
        elif "ุงุชุตุงู" in button_id or "call" in button_id.lower():
            return self.send_contact_menu(phone_number)

        return "ุดูุฑุงู ูุงูุชูุงูู! ๐"

    def handle_list_selection(self, list_id: str, phone_number: str) -> str:
        """ูุนุงูุฌุฉ ุงูููุงุฆู ุงูููุณุฏูุฉ - ุญุงููุงู ูุตูุฉ"""
        
        # ุงูุชุนุงูู ูุน ุงูุงุฎุชูุงุฑุงุช ุงูุฑูููุฉ
        if list_id in ["1", "ุฎุฏูุงุช", "services_menu"]:
            self.send_services_menu(phone_number)
            return ""
            
        elif list_id in ["2", "ุฃุณุนุงุฑ", "prices_menu"]:
            text_response, image_url = self.quick_system.get_price_response()
            if image_url:
                self.whatsapp_handler.send_image_with_text(phone_number, text_response, image_url)
                return ""
            return text_response
            
        elif list_id in ["3", "ูุชุทูุจุงุช", "requirements_menu"]:
            return """๐ ูุชุทูุจุงุช ุงูุงุณุชูุฏุงู

ููุญุตูู ุนูู ุนุงููุฉ ููุฒููุฉ:

โ ุงููุณุชูุฏุงุช:
โข ุตูุฑุฉ ุงููููุฉ ุงููุทููุฉ
โข ุตูุฑุฉ ูุดู ุญุณุงุจ ุจููู
โข ูููุฐุฌ ุทูุจ ุงูุงุณุชูุฏุงู
โข ุนูุฏ ุงูุนูู

โ ุงูุฅุฌุฑุงุกุงุช:
โข ุฏูุน ุงูููุฏู (50%)
โข ุงุฎุชูุงุฑ ุงูุนุงููุฉ
โข ูุชุงุจุนุฉ ุงูุฅุฌุฑุงุกุงุช ุงูุญููููุฉ
โข ุงุณุชูุงู ุงูุนุงููุฉ (45-60 ููู)

ููุชูุงุตูู: ๐ 0556914447"""
            
        elif list_id in ["4", "ุชูุงุตู", "support_menu"]:
            self.send_contact_menu(phone_number)
            return ""
            
        elif list_id in ["5", "ุชุชุจุน", "status_check"]:
            return """๐ ุชุชุจุน ุญุงูุฉ ุงูุทูุจ

ููุงุณุชูุณุงุฑ ุนู ุทูุจู:

1๏ธโฃ ุงุชุตู: 0556914447
2๏ธโฃ ุงุฐูุฑ ุฑูู ุงูุนูุฏ ุฃู ุงููุงุชู
3๏ธโฃ ุฃู ูู "ุชุชุจุน ุทูุจู"

โฐ ุงูุชุญุฏูุซุงุช ููููุงู
๐ฑ ุฑุณุงุฆู ุฏูุฑูุฉ"""

        elif list_id in ["6", "ุฃุณุฆูุฉ", "faq_menu"]:
            return """โ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ

๐น ูุฏุฉ ุงูุงุณุชูุฏุงูุ
โซ๏ธ 45-60 ููู ุนูู

๐น ููุฌุฏ ุถูุงูุ  
โซ๏ธ ูุนูุ 3 ุฃุดูุฑ ุดุงููุฉ

๐น ุชุบููุฑ ุงูุนุงููุฉุ
โซ๏ธ ูุนูุ ูุฌุงูุงู ุจูุชุฑุฉ ุงูุถูุงู

๐น ุทุฑู ุงูุฏูุนุ
โซ๏ธ ููุฏุงู ุฃู ุชุญููู ุจููู

ูููุฒูุฏ: ๐ 0556914447"""

        return "ุชู ุงุณุชูุงู ุทูุจู! ๐"